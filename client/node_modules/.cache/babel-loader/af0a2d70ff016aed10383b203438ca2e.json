{"ast":null,"code":"import _slicedToArray from\"C:/Users/ASUS/Documents/React/MERN-E/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect}from'react';import{GlobalState}from'../../../GlobalState';import ProductItem from'../utils/productItem/ProductItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Products=function Products(){var state=useContext(GlobalState);var _state$productsAPI$pr=_slicedToArray(state.productsAPI.products,1),products=_state$productsAPI$pr[0];var _state$productsAPI$ca=_slicedToArray(state.productsAPI.category,2),category=_state$productsAPI$ca[0],setCategory=_state$productsAPI$ca[1];var _state$productsAPI$so=_slicedToArray(state.productsAPI.sort,2),sort=_state$productsAPI$so[0],setSort=_state$productsAPI$so[1];var _state$productsAPI$pa=_slicedToArray(state.productsAPI.page,2),page=_state$productsAPI$pa[0],setPage=_state$productsAPI$pa[1];var _state$productsAPI$re=_slicedToArray(state.productsAPI.result,1),result=_state$productsAPI$re[0];var _state$categoryAPI$ca=_slicedToArray(state.categoryAPI.categories,1),categories=_state$categoryAPI$ca[0];useEffect(function(){setCategory('');setSort('');setPage(1);},[setCategory,setSort,setPage]);return/*#__PURE__*/_jsxs(\"div\",{className:\"product-all\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-products\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Filter: \"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:category,onChange:function onChange(e){return setCategory(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Products\"}),categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:\"category=\"+category.name,children:category.name},category._id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sort\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sort By: \"}),/*#__PURE__*/_jsxs(\"select\",{name:\"sort\",value:sort,onChange:function onChange(e){return setSort(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Newest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sort=oldest\",children:\"Oldest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sort=-sold\",children:\"Best sales\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sort=-price\",children:\"Price: Hight-Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sort=price\",children:\"Price: Low-Hight\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products.map(function(product){return/*#__PURE__*/_jsx(ProductItem,{product:product},product._id);})})]}),result<page*9?\"\":/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setPage(page+1);},children:\"Load More\"})]});};export default Products;","map":{"version":3,"sources":["C:/Users/ASUS/Documents/React/MERN-E/client/src/components/mainpage/products/Products.js"],"names":["React","useContext","useEffect","GlobalState","ProductItem","Products","state","productsAPI","products","category","setCategory","sort","setSort","page","setPage","result","categoryAPI","categories","e","target","value","map","name","_id","product"],"mappings":"kKAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA6C,OAA7C,CAEA,OAASC,WAAT,KAA4B,sBAA5B,CACA,MAAOC,CAAAA,WAAP,KAAwB,kCAAxB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAMC,CAAAA,KAAK,CAAGL,UAAU,CAACE,WAAD,CAAxB,CADqB,yCAEFG,KAAK,CAACC,WAAN,CAAkBC,QAFhB,IAEdA,QAFc,mEAGWF,KAAK,CAACC,WAAN,CAAkBE,QAH7B,IAGdA,QAHc,0BAGJC,WAHI,mEAIGJ,KAAK,CAACC,WAAN,CAAkBI,IAJrB,IAIdA,IAJc,0BAIRC,OAJQ,mEAKGN,KAAK,CAACC,WAAN,CAAkBM,IALrB,IAKdA,IALc,0BAKRC,OALQ,mEAMJR,KAAK,CAACC,WAAN,CAAkBQ,MANd,IAMdA,MANc,mEAQAT,KAAK,CAACU,WAAN,CAAkBC,UARlB,IAQdA,UARc,0BAUrBf,SAAS,CAAC,UAAM,CACdQ,WAAW,CAAC,EAAD,CAAX,CACAE,OAAO,CAAC,EAAD,CAAP,CACAE,OAAO,CAAC,CAAD,CAAP,CACD,CAJQ,CAIN,CAACJ,WAAD,CAAcE,OAAd,CAAuBE,OAAvB,CAJM,CAAT,CAMA,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,aAAK,SAAS,CAAC,QAAf,wBACE,kCADF,cAEE,gBAAQ,IAAI,CAAC,UAAb,CAAwB,KAAK,CAAEL,QAA/B,CAAyC,QAAQ,CAAE,kBAACS,CAAD,QAAOR,CAAAA,WAAW,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAAnD,wBACE,eAAQ,KAAK,CAAC,EAAd,0BADF,CAGIH,UAAU,CAACI,GAAX,CAAe,SAAAZ,QAAQ,qBACrB,eAAQ,KAAK,CAAE,YAAcA,QAAQ,CAACa,IAAtC,UACGb,QAAQ,CAACa,IADZ,EAAiDb,QAAQ,CAACc,GAA1D,CADqB,EAAvB,CAHJ,GAFF,GADF,cAeE,aAAK,SAAS,CAAC,MAAf,wBACI,mCADJ,cAEI,gBAAQ,IAAI,CAAC,MAAb,CAAoB,KAAK,CAAEZ,IAA3B,CAAiC,QAAQ,CAAE,kBAACO,CAAD,QAAON,CAAAA,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAA3C,wBACE,eAAQ,KAAK,CAAC,EAAd,oBADF,cAEE,eAAQ,KAAK,CAAC,aAAd,oBAFF,cAGE,eAAQ,KAAK,CAAC,YAAd,wBAHF,cAIE,eAAQ,KAAK,CAAC,aAAd,8BAJF,cAKE,eAAQ,KAAK,CAAC,YAAd,8BALF,GAFJ,GAfF,GADF,cA4BE,YAAK,SAAS,CAAC,UAAf,UAEIZ,QAAQ,CAACa,GAAT,CAAa,SAAAG,OAAO,CAAI,CACtB,mBAAO,KAAC,WAAD,EAA+B,OAAO,CAAEA,OAAxC,EAAkBA,OAAO,CAACD,GAA1B,CAAP,CACD,CAFD,CAFJ,EA5BF,GADF,CAsCIR,MAAM,CAAGF,IAAI,CAAG,CAAhB,CAAoB,EAApB,cACE,eAAQ,OAAO,CAAE,yBAAMC,CAAAA,OAAO,CAACD,IAAI,CAAC,CAAN,CAAb,EAAjB,uBAvCN,GADF,CA4CD,CA5DD,CA8DA,cAAeR,CAAAA,QAAf","sourcesContent":["import React, { useContext, useEffect } from 'react';\r\n\r\nimport { GlobalState } from '../../../GlobalState';\r\nimport ProductItem from '../utils/productItem/ProductItem';\r\n\r\nconst Products = () => {\r\n  const state = useContext(GlobalState);\r\n  const [products] = state.productsAPI.products;\r\n  const [category, setCategory] = state.productsAPI.category;\r\n  const [sort, setSort] = state.productsAPI.sort;\r\n  const [page, setPage] = state.productsAPI.page;\r\n  const [result] = state.productsAPI.result;\r\n  \r\n  const [categories] = state.categoryAPI.categories;\r\n\r\n  useEffect(() => {\r\n    setCategory('')\r\n    setSort('')\r\n    setPage(1)\r\n  }, [setCategory, setSort, setPage])\r\n\r\n  return (\r\n    <div className=\"product-all\">\r\n      <div className=\"category-page\">\r\n        <div className=\"filter-products\">\r\n          <div className=\"filter\">\r\n            <span>Filter: </span>\r\n            <select name=\"category\" value={category} onChange={(e) => setCategory(e.target.value)}>\r\n              <option value=\"\">All Products</option>\r\n              {\r\n                categories.map(category => (\r\n                  <option value={\"category=\" + category.name} key={category._id}>\r\n                    {category.name}\r\n                  </option>\r\n                ))\r\n              }\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"sort\">\r\n              <span>Sort By: </span>\r\n              <select name=\"sort\" value={sort} onChange={(e) => setSort(e.target.value)}>\r\n                <option value=\"\">Newest</option>\r\n                <option value=\"sort=oldest\">Oldest</option>\r\n                <option value=\"sort=-sold\">Best sales</option>\r\n                <option value=\"sort=-price\">Price: Hight-Low</option>\r\n                <option value=\"sort=price\">Price: Low-Hight</option>\r\n              </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"products\">\r\n          {\r\n            products.map(product => {\r\n              return <ProductItem key={product._id} product={product}/>\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n      {\r\n        result < page * 9 ? \"\"\r\n        : <button onClick={() => setPage(page+1)}>Load More</button>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Products\r\n"]},"metadata":{},"sourceType":"module"}