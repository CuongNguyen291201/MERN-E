{"ast":null,"code":"import _slicedToArray from\"C:/Users/ASUS/Documents/React/MERN-E/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{Link,useParams}from'react-router-dom';import{GlobalState}from'../../../GlobalState';import ProductItem from'../utils/productItem/ProductItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DetailProduct=function DetailProduct(){var params=useParams();var state=useContext(GlobalState);var _state$productsAPI$pr=_slicedToArray(state.productsAPI.products,1),products=_state$productsAPI$pr[0];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),detailProduct=_useState2[0],setDetailProduct=_useState2[1];var addCart=state.userAPI.addCart;useEffect(function(){if(params){products.forEach(function(product){if(product._id===params.id)setDetailProduct(product);});}},[params,products]);if(detailProduct.length===0)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"img\",{src:detailProduct.images.url,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-detail\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"h3\",{children:detailProduct.title})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$ \",detailProduct.price]}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"cart\",onClick:function onClick(){return addCart(detailProduct);},children:\"Add to Cart\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Sold: \",detailProduct.sold]}),/*#__PURE__*/_jsx(\"p\",{children:\"Shop secure. Free Returns\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Share:\",\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook-f fb\"}),\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-youtube yt\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"related-products\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Related Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products.map(function(product){return product.category===detailProduct.category?/*#__PURE__*/_jsx(ProductItem,{product:product},product._id):null;})})]})]});};export default DetailProduct;","map":{"version":3,"sources":["C:/Users/ASUS/Documents/React/MERN-E/client/src/components/mainpage/detailProduct/DetailProduct.js"],"names":["React","useContext","useState","useEffect","Link","useParams","GlobalState","ProductItem","DetailProduct","params","state","productsAPI","products","detailProduct","setDetailProduct","addCart","userAPI","forEach","product","_id","id","length","images","url","title","price","sold","map","category"],"mappings":"kKAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CAEA,OAASC,WAAT,KAA4B,sBAA5B,CACA,MAAOC,CAAAA,WAAP,KAAwB,kCAAxB,C,6IAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAMC,CAAAA,MAAM,CAAGJ,SAAS,EAAxB,CACA,GAAMK,CAAAA,KAAK,CAAGT,UAAU,CAACK,WAAD,CAAxB,CAF0B,yCAGPI,KAAK,CAACC,WAAN,CAAkBC,QAHX,IAGnBA,QAHmB,wCAIgBV,QAAQ,CAAC,EAAD,CAJxB,wCAInBW,aAJmB,eAIJC,gBAJI,eAK1B,GAAMC,CAAAA,OAAO,CAAGL,KAAK,CAACM,OAAN,CAAcD,OAA9B,CAEAZ,SAAS,CAAC,UAAM,CACd,GAAIM,MAAJ,CAAY,CACVG,QAAQ,CAACK,OAAT,CAAiB,SAAAC,OAAO,CAAI,CAC1B,GAAIA,OAAO,CAACC,GAAR,GAAgBV,MAAM,CAACW,EAA3B,CAA+BN,gBAAgB,CAACI,OAAD,CAAhB,CAChC,CAFD,EAGD,CACF,CANQ,CAMN,CAACT,MAAD,CAASG,QAAT,CANM,CAAT,CAQA,GAAIC,aAAa,CAACQ,MAAd,GAAyB,CAA7B,CAAgC,MAAO,KAAP,CAChC,mBACE,wCACE,aAAK,SAAS,CAAC,QAAf,wBACE,YAAK,GAAG,CAAER,aAAa,CAACS,MAAd,CAAqBC,GAA/B,CAAoC,GAAG,CAAC,EAAxC,EADF,cAEE,aAAK,SAAS,CAAC,YAAf,wBACE,YAAK,SAAS,CAAC,KAAf,uBACE,oBAAKV,aAAa,CAACW,KAAnB,EADF,EADF,cAIE,0BAAMX,aAAa,CAACY,KAApB,GAJF,cAKE,KAAC,IAAD,EACE,EAAE,CAAC,OADL,CACa,SAAS,CAAC,MADvB,CAEE,OAAO,CAAE,yBAAMV,CAAAA,OAAO,CAACF,aAAD,CAAb,EAFX,yBALF,cAWE,8BAAUA,aAAa,CAACa,IAAxB,GAXF,cAYE,gDAZF,cAaE,8BACG,GADH,cACO,UAAG,SAAS,CAAC,sBAAb,EADP,CAEG,GAFH,cAEO,UAAG,SAAS,CAAC,mBAAb,EAFP,GAbF,GAFF,GADF,cAsBE,aAAK,SAAS,CAAC,kBAAf,wBACE,wCADF,cAEE,YAAK,SAAS,CAAC,UAAf,UAEId,QAAQ,CAACe,GAAT,CAAa,SAAAT,OAAO,CAAI,CACtB,MAAOA,CAAAA,OAAO,CAACU,QAAR,GAAqBf,aAAa,CAACe,QAAnC,cACH,KAAC,WAAD,EAA+B,OAAO,CAAEV,OAAxC,EAAkBA,OAAO,CAACC,GAA1B,CADG,CACmD,IAD1D,CAEC,CAHH,CAFJ,EAFF,GAtBF,GADF,CAoCD,CApDD,CAsDA,cAAeX,CAAAA,aAAf","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nimport { GlobalState } from '../../../GlobalState';\r\nimport ProductItem from '../utils/productItem/ProductItem';\r\n\r\nconst DetailProduct = () => {\r\n  const params = useParams();\r\n  const state = useContext(GlobalState);\r\n  const [products] = state.productsAPI.products;\r\n  const [detailProduct, setDetailProduct] = useState([]);\r\n  const addCart = state.userAPI.addCart;\r\n\r\n  useEffect(() => {\r\n    if (params) {\r\n      products.forEach(product => {\r\n        if (product._id === params.id) setDetailProduct(product);\r\n      })\r\n    }\r\n  }, [params, products])\r\n\r\n  if (detailProduct.length === 0) return null;\r\n  return (\r\n    <>\r\n      <div className=\"detail\">\r\n        <img src={detailProduct.images.url} alt=\"\"/>\r\n        <div className=\"box-detail\">\r\n          <div className=\"row\">\r\n            <h3>{detailProduct.title}</h3>\r\n          </div>\r\n          <p>$ {detailProduct.price}</p>\r\n          <Link \r\n            to=\"/cart\" className=\"cart\"\r\n            onClick={() => addCart(detailProduct)}\r\n          >\r\n            Add to Cart\r\n          </Link>\r\n          <p>Sold: {detailProduct.sold}</p>\r\n          <p>Shop secure. Free Returns</p>\r\n          <p>Share: \r\n            {\" \"}<i className=\"fab fa-facebook-f fb\"></i>\r\n            {\" \"}<i className=\"fab fa-youtube yt\"></i>\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"related-products\">\r\n        <h3>Related Products</h3>\r\n        <div className=\"products\">\r\n          {\r\n            products.map(product => {\r\n              return product.category === detailProduct.category \r\n                ? <ProductItem key={product._id} product={product} /> : null\r\n              })\r\n          }\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DetailProduct\r\n"]},"metadata":{},"sourceType":"module"}