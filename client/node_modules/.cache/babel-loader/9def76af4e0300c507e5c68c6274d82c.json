{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ASUS/Documents/React/MERN-E/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ASUS/Documents/React/MERN-E/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/ASUS/Documents/React/MERN-E/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import axios from'axios';var ProductsAPI=function ProductsAPI(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),callback=_useState4[0],setCallback=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),sort=_useState8[0],setSort=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),search=_useState10[0],setSearch=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setPage=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),result=_useState14[0],setResult=_useState14[1];useEffect(function(){var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/products?limit=\".concat(page*9,\"&\").concat(category,\"&\").concat(sort,\"&title[regex]=\").concat(search));case 2:res=_context.sent;setProducts(res.data.products);setResult(res.data.result);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();getProducts();},[callback,category,page,search,sort]);return{products:[products,setProducts],callback:[callback,setCallback],category:[category,setCategory],sort:[sort,setSort],search:[search,setSearch],page:[page,setPage],result:[result,setResult]};};export default ProductsAPI;","map":{"version":3,"sources":["C:/Users/ASUS/Documents/React/MERN-E/client/src/api/ProductsAPI.js"],"names":["useState","useEffect","axios","ProductsAPI","products","setProducts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","getProducts","get","res","data"],"mappings":"meAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eACQH,QAAQ,CAAC,EAAD,CADhB,wCACjBI,QADiB,eACPC,WADO,8BAEQL,QAAQ,CAAC,KAAD,CAFhB,yCAEjBM,QAFiB,eAEPC,WAFO,8BAGQP,QAAQ,CAAC,EAAD,CAHhB,yCAGjBQ,QAHiB,eAGPC,WAHO,8BAIAT,QAAQ,CAAC,EAAD,CAJR,yCAIjBU,IAJiB,eAIXC,OAJW,8BAKIX,QAAQ,CAAC,EAAD,CALZ,0CAKjBY,MALiB,gBAKTC,SALS,gCAMAb,QAAQ,CAAC,CAAD,CANR,2CAMjBc,IANiB,gBAMXC,OANW,gCAOIf,QAAQ,CAAC,CAAD,CAPZ,2CAOjBgB,MAPiB,gBAOTC,SAPS,gBASxBhB,SAAS,CAAC,UAAM,CACd,GAAMiB,CAAAA,WAAW,0FAAG,iKACAhB,CAAAA,KAAK,CAACiB,GAAN,+BAAiCL,IAAI,CAAC,CAAtC,aAA2CN,QAA3C,aAAuDE,IAAvD,0BAA4EE,MAA5E,EADA,QACZQ,GADY,eAElBf,WAAW,CAACe,GAAG,CAACC,IAAJ,CAASjB,QAAV,CAAX,CACAa,SAAS,CAACG,GAAG,CAACC,IAAJ,CAASL,MAAV,CAAT,CAHkB,sDAAH,kBAAXE,CAAAA,WAAW,0CAAjB,CAMAA,WAAW,GACZ,CARQ,CAQN,CAACZ,QAAD,CAAWE,QAAX,CAAqBM,IAArB,CAA2BF,MAA3B,CAAmCF,IAAnC,CARM,CAAT,CAUA,MAAO,CACLN,QAAQ,CAAE,CAACA,QAAD,CAAWC,WAAX,CADL,CAELC,QAAQ,CAAE,CAACA,QAAD,CAAWC,WAAX,CAFL,CAGLC,QAAQ,CAAE,CAACA,QAAD,CAAWC,WAAX,CAHL,CAILC,IAAI,CAAE,CAACA,IAAD,CAAOC,OAAP,CAJD,CAKLC,MAAM,CAAE,CAACA,MAAD,CAASC,SAAT,CALH,CAMLC,IAAI,CAAE,CAACA,IAAD,CAAOC,OAAP,CAND,CAOLC,MAAM,CAAE,CAACA,MAAD,CAASC,SAAT,CAPH,CAAP,CASD,CA5BD,CA8BA,cAAed,CAAAA,WAAf","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ProductsAPI = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [callback, setCallback] = useState(false);\r\n  const [category, setCategory] = useState('');\r\n  const [sort, setSort] = useState('');\r\n  const [search, setSearch] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [result, setResult] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const getProducts = async () => {\r\n      const res = await axios.get(`/api/products?limit=${page*9}&${category}&${sort}&title[regex]=${search}`);\r\n      setProducts(res.data.products);\r\n      setResult(res.data.result);\r\n    }\r\n    \r\n    getProducts();\r\n  }, [callback, category, page, search, sort])\r\n\r\n  return {\r\n    products: [products, setProducts],\r\n    callback: [callback, setCallback],\r\n    category: [category, setCategory],\r\n    sort: [sort, setSort],\r\n    search: [search, setSearch],\r\n    page: [page, setPage],\r\n    result: [result, setResult]\r\n  }\r\n}\r\n\r\nexport default ProductsAPI\r\n"]},"metadata":{},"sourceType":"module"}